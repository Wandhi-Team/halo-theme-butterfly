<!--/* 代码块  */-->
<th:block xmlns:th="https://www.thymeleaf.org" th:if="${theme.config.render.enable_code}" th:fragment="prism">
  <link rel="preload stylesheet" as="style" th:href="${assets_link+'plugins/prism/prism.min.css'}">
  <link rel="preload stylesheet" as="style" data-code="light" th:href="${assets_link+ 'plugins/prism/themes/prism-'+theme.config.render.code_theme_light+'.css'}">
  <link rel="preload stylesheet" as="style" data-code="dark" th:href="${assets_link+'plugins/prism/themes/prism-'+theme.config.render.code_theme_dark+'.css'}">
  <script type="text/javascript" th:src="${assets_link+'plugins/prism/prism.min.js'}"></script>
</th:block>


<!--/* 文章版权  */-->
<th:block xmlns:th="https://www.thymeleaf.org" th:fragment="copyRight">
  <div class="copy-right">
    <i class="fa-solid fa-copyright"></i>

    <div class="author">
      <span class="name">文章作者：</span>
      <span class="text" th:text="${contributor.displayName}"></span>
    </div>

    <div class="url">
      <span class="name">本文链接：</span>
      <span class="text"><a class="permalink"  target="_blank"></a></span>
    </div>


    <div class="declaration">
      <span class="name">版权声明：</span>
      <span class="text">本站所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自<a href="/" target="_blank">小红</a>！</span>
    </div>
  </div>
</th:block>

<!--评论-->
<th:block th:if="${haloCommentEnabled}" xmlns:th="https://www.thymeleaf.org" th:fragment="comment">
  <halo:comment
    group="content.halo.run"
    kind="Post"
    th:attr="name=${post.metadata.name}"
  />
</th:block>


<!--/* 渲染post页面  */-->
<section xmlns:th="https://www.thymeleaf.org" th:fragment="post" class="content card">
  <th:block th:replace="~{::prism}"/>

  <script id="renderScript" th:inline="javascript">
    Object.assign(window.ThemeConfig.attrs, {
      enable_code_copy: /*[[${#annotations.getOrDefault(post, 'enable_code_copy','true')}]]*/ true,
    });
    window['renderScript']?.remove();
  </script>

  <article class="render" th:utext="${post.content.content}"></article>

  <th:block th:replace="~{::copyRight}"/>
  
  <th:block th:replace="~{::comment}"/>
</section>

